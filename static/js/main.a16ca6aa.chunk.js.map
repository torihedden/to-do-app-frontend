{"version":3,"sources":["Modal/Modal.jsx","Summary/Summary.jsx","TodoCreator/TodoCreator.jsx","List/List.jsx","Loading/Loading.jsx","Login/Login.jsx","useToken.js","App.js","reportWebVitals.js","index.js"],"names":["Modal","props","currentTodo","setCurrentTodo","prompt","content","isEditable","cancelAction","confirmAction","confirmText","className","type","onChange","event","title","target","value","id","_id","name","onClick","greeting","time","Date","getHours","Summary","completeListLength","incompleteListLength","TodoCreator","handleAdd","newTodoTitle","setNewTodoTitle","htmlFor","placeholder","trim","disabled","List","todos","handleEdit","handleDelete","handleDeleteCompletedTodos","useState","isEditing","setIsEditing","isDeleting","setisDeleting","isDeletingAllCompleted","setIsDeletingAllCompleted","incompleteTodos","filter","todo","completed","completeTodos","length","map","checked","Loading","require","config","Login","setToken","password","setPassword","loginUser","credentials","a","fetch","process","method","headers","body","JSON","stringify","then","data","json","handleSubmit","preventDefault","token","onSubmit","TOKEN_NAME","URI","App","tokenString","localStorage","getItem","parse","getToken","setItem","deleteToken","removeItem","useToken","useEffect","res","setIsLoaded","setTodos","catch","error","console","log","setError","isLoaded","userId","HomePage","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a16ca6aa.chunk.js","sourcesContent":["import \"./Modal.css\";\r\n\r\nconst Modal = (props) => {\r\n  const {\r\n    currentTodo,\r\n    setCurrentTodo,\r\n    prompt,\r\n    content,\r\n    isEditable,\r\n    cancelAction,\r\n    confirmAction,\r\n    confirmText,\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"modal\">\r\n      <div className=\"modal-content\">\r\n        <div className=\"modal-prompt\">{prompt}</div>\r\n\r\n        {!isEditable && <div className=\"modal-text\">{content}</div>}\r\n        {isEditable && (\r\n          <input\r\n            className=\"edit-task\"\r\n            type=\"text\"\r\n            onChange={(event) => {\r\n              setCurrentTodo({ ...currentTodo, title: event.target.value });\r\n            }}\r\n            id={currentTodo._id}\r\n            name={currentTodo.title}\r\n            value={content}\r\n          />\r\n        )}\r\n        <div className=\"button-wrapper\">\r\n          <button onClick={cancelAction}>Cancel</button>\r\n          <button className=\"negative\" onClick={confirmAction}>\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import \"./Summary.css\";\r\n\r\nconst greeting = () => {\r\n  let time = new Date().getHours();\r\n\r\n  if (time < 12) {\r\n    return \"Good morning!\";\r\n  } else if (time >= 12 && time < 17) {\r\n    return \"Good afternoon!\";\r\n  } else return \"Good evening!\";\r\n};\r\n\r\nconst Summary = (props) => {\r\n  const { completeListLength, incompleteListLength } = props;\r\n  return (\r\n    <>\r\n      {completeListLength !== 0 && incompleteListLength === 0 ? (\r\n        <div className=\"summary\">\r\n          <div className=\"summary-greeting\">Congratulations!</div>\r\n          You are done with your list.\r\n        </div>\r\n      ) : (\r\n        <div className=\"summary\">\r\n          <div className=\"summary-greeting\">{greeting()}</div>\r\n          <div className=\"summary-item-details\">\r\n            {completeListLength === 0 &&\r\n              incompleteListLength === 0 &&\r\n              \"You haven't added any tasks yet.\"}\r\n\r\n            {incompleteListLength >= 1 &&\r\n              `You have ${incompleteListLength} ${\r\n                incompleteListLength > 1 ? \"items\" : \"item\"\r\n              } left on your list.`}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Summary;\r\n","import \"./TodoCreator.css\";\r\n\r\nconst TodoCreator = (props) => {\r\n  const { handleAdd, newTodoTitle, setNewTodoTitle } = props;\r\n\r\n  return (\r\n    <div className=\"new-task-wrapper\">\r\n      {/* TODO: convert text input and button to proper form */}\r\n      {/* <form onSubmit={handleAdd}> */}\r\n      <label htmlFor=\"new-todo\">\r\n        <input\r\n          type=\"text\"\r\n          name=\"todo\"\r\n          placeholder=\"Describe your task\"\r\n          id=\"new-todo\"\r\n          value={newTodoTitle}\r\n          onChange={(event) => setNewTodoTitle(event.target.value)}\r\n        />\r\n      </label>\r\n      <button\r\n        className=\"positive add-todo\"\r\n        // type=\"submit\"\r\n        onClick={() => {\r\n          if (newTodoTitle !== \"\") {\r\n            handleAdd({ title: newTodoTitle.trim() });\r\n            setNewTodoTitle(\"\");\r\n          }\r\n        }}\r\n        disabled={newTodoTitle === \"\"}\r\n      >\r\n        Add\r\n      </button>\r\n      {/* </form> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TodoCreator;\r\n","import { useState } from \"react\";\r\nimport Modal from \"../Modal/Modal\";\r\nimport Summary from \"../Summary/Summary\";\r\nimport TodoCreator from \"../TodoCreator/TodoCreator\";\r\nimport \"./List.css\";\r\n\r\nconst List = (props) => {\r\n  const {\r\n    todos,\r\n    handleEdit,\r\n    handleAdd,\r\n    handleDelete,\r\n    handleDeleteCompletedTodos,\r\n  } = props;\r\n  const [newTodoTitle, setNewTodoTitle] = useState(\"\");\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isDeleting, setisDeleting] = useState(false);\r\n  const [isDeletingAllCompleted, setIsDeletingAllCompleted] = useState(false);\r\n  const [currentTodo, setCurrentTodo] = useState({});\r\n\r\n  const incompleteTodos = todos.filter((todo) => !todo.completed);\r\n  const completeTodos = todos.filter((todo) => todo.completed);\r\n\r\n  return (\r\n    <>\r\n      {isEditing && (\r\n        <Modal\r\n          currentTodo={currentTodo}\r\n          setCurrentTodo={setCurrentTodo}\r\n          isEditable={true}\r\n          prompt={\"Edit task\"}\r\n          content={currentTodo.title}\r\n          cancelAction={() => {\r\n            setIsEditing(false);\r\n            setCurrentTodo({});\r\n          }}\r\n          confirmAction={() => {\r\n            handleEdit({\r\n              ...currentTodo,\r\n              title: currentTodo.title.trim(),\r\n            });\r\n            setIsEditing(false);\r\n            setCurrentTodo({});\r\n          }}\r\n          confirmText={\"Save\"}\r\n        />\r\n      )}\r\n\r\n      {isDeleting && (\r\n        <Modal\r\n          prompt={`Delete \"${currentTodo.title}\" task?`}\r\n          content={\"This cannot be undone.\"}\r\n          cancelAction={() => {\r\n            setisDeleting(false);\r\n            setCurrentTodo({});\r\n          }}\r\n          confirmAction={() => {\r\n            setisDeleting(false);\r\n            handleDelete(currentTodo._id);\r\n            setCurrentTodo({});\r\n          }}\r\n          confirmText={\"Delete\"}\r\n        />\r\n      )}\r\n\r\n      {isDeletingAllCompleted && (\r\n        <Modal\r\n          prompt={`Delete ${completeTodos.length} completed ${\r\n            completeTodos.length === 1 ? \"task\" : \"tasks\"\r\n          }?`}\r\n          content={\"This cannot be undone.\"}\r\n          cancelAction={() => {\r\n            setIsDeletingAllCompleted(false);\r\n          }}\r\n          confirmAction={() => {\r\n            handleDeleteCompletedTodos();\r\n            setIsDeletingAllCompleted(false);\r\n          }}\r\n          confirmText={`Delete ${\r\n            completeTodos.length === 1 ? \"task\" : \"tasks\"\r\n          }`}\r\n        />\r\n      )}\r\n\r\n      <Summary\r\n        completeListLength={completeTodos.length}\r\n        incompleteListLength={incompleteTodos.length}\r\n      />\r\n\r\n      <TodoCreator\r\n        handleAdd={handleAdd}\r\n        newTodoTitle={newTodoTitle}\r\n        setNewTodoTitle={setNewTodoTitle}\r\n      />\r\n\r\n      {/* Incompleted tasks */}\r\n      <div className=\"uncompleted-todos\">\r\n        {incompleteTodos.map((todo) => (\r\n          <div key={todo._id} className=\"todo-wrapper\">\r\n            <label\r\n              htmlFor={todo.title}\r\n              className={todo.completed ? \"completed-task\" : \"\"}\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={todo.completed}\r\n                onChange={() => {\r\n                  handleEdit({ ...todo, completed: !todo.completed });\r\n                  if (isEditing) {\r\n                    setIsEditing(false);\r\n                  }\r\n                }}\r\n                id={todo.title}\r\n                name={todo.title}\r\n                value={todo.title}\r\n              />\r\n              <span className=\"checkmark\">{todo.completed}</span>\r\n              <span className=\"title\">{todo.title}</span>\r\n            </label>\r\n\r\n            <div className=\"editing-wrapper\">\r\n              <button\r\n                title=\"Edit task\"\r\n                disabled={todo.completed}\r\n                onClick={() => {\r\n                  setCurrentTodo(todo);\r\n                  setIsEditing(true);\r\n                }}\r\n              >\r\n                Edit\r\n              </button>\r\n\r\n              <button\r\n                title=\"Delete task\"\r\n                className={\"positive delete-button\"}\r\n                onClick={() => {\r\n                  setCurrentTodo(todo);\r\n                  setisDeleting(currentTodo);\r\n                }}\r\n              >\r\n                X\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Completed tasks */}\r\n      <div className=\"completed-todos\">\r\n        {completeTodos.map((todo) => (\r\n          <div key={todo._id} className=\"todo-wrapper\">\r\n            <label\r\n              htmlFor={todo.title}\r\n              className={todo.completed ? \"completed-task\" : \"\"}\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={todo.completed}\r\n                onChange={() => {\r\n                  handleEdit({ ...todo, completed: !todo.completed });\r\n                  if (isEditing) {\r\n                    setIsEditing(false);\r\n                  }\r\n                }}\r\n                id={todo.title}\r\n                name={todo.title}\r\n                value={todo.title}\r\n              />\r\n              <span className=\"checkmark\">{todo.completed}</span>\r\n              {!(isEditing && currentTodo._id === todo._id) && (\r\n                <span className=\"title\">{todo.title}</span>\r\n              )}\r\n            </label>\r\n            <button\r\n              title=\"Delete task\"\r\n              className={\"positive delete-button\"}\r\n              onClick={() => {\r\n                setCurrentTodo(todo);\r\n                setisDeleting(currentTodo);\r\n              }}\r\n            >\r\n              X\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"delete-all-wrapper\">\r\n        <button\r\n          className={\"negative delete-all-button\"}\r\n          title=\"Delete all completed tasks\"\r\n          disabled={completeTodos.length < 1}\r\n          onClick={() => {\r\n            setIsDeletingAllCompleted(true);\r\n          }}\r\n        >\r\n          Delete all completed tasks\r\n        </button>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import \"./Loading.css\";\r\n\r\nconst Loading = (props) => {\r\n  return (\r\n    <div className=\"loading\">\r\n      <div>Loading</div>\r\n      <div className=\"loading-dots\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import { useState } from \"react\";\r\n\r\nconst dotenv = require(\"dotenv\");\r\ndotenv.config();\r\n\r\nconst URI = process.env.REACT_APP_URI;\r\n\r\nconst Login = (props) => {\r\n  const { setToken } = props;\r\n  const [password, setPassword] = useState();\r\n\r\n  const loginUser = async (credentials) => {\r\n    return fetch(`${URI}/login`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(credentials),\r\n    }).then((data) => data.json());\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const token = await loginUser({\r\n      password,\r\n    });\r\n    setToken(token);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"password\"\r\n          onChange={(event) => setPassword(event.target.value)}\r\n        />\r\n        <button title=\"Log in\" type=\"submit\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","// THIS IS FAKE AND BAD. PLEASE DON'T RELY ON THIS FOR ACTUAL PRODUCTION AUTHENTICATION.\r\n\r\nimport { useState } from \"react\";\r\n\r\nconst TOKEN_NAME = \"tiny-todo-token\";\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = localStorage.getItem(TOKEN_NAME);\r\n    const token = JSON.parse(tokenString);\r\n    return token?.token;\r\n  };\r\n\r\n  const [token, setToken] = useState(getToken());\r\n\r\n  const saveToken = (token) => {\r\n    localStorage.setItem(TOKEN_NAME, JSON.stringify(token));\r\n    setToken(token.token);\r\n  };\r\n\r\n  const deleteToken = (token) => {\r\n    localStorage.removeItem(TOKEN_NAME);\r\n    setToken();\r\n  };\r\n\r\n  return {\r\n    setToken: saveToken,\r\n    deleteToken,\r\n    token,\r\n  };\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\r\n\r\nimport \"./App.css\";\r\nimport List from \"./List/List\";\r\nimport Loading from \"./Loading/Loading\";\r\nimport Login from \"./Login/Login\";\r\nimport useToken from \"./useToken\";\r\n\r\nconst dotenv = require(\"dotenv\");\r\ndotenv.config();\r\n\r\nconst URI = process.env.REACT_APP_URI;\r\n\r\nfunction App() {\r\n  const { setToken, deleteToken, token } = useToken();\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n\r\n    fetch(`${URI}/todos`)\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if (mounted) {\r\n          setIsLoaded(true);\r\n          setTodos(res);\r\n        }\r\n      })\r\n      // TODO: add error messaging to other request types\r\n      .catch((error) => {\r\n        console.log(\"Error: \", error);\r\n        setError(\"There was a problem retrieving your to-do list.\");\r\n      });\r\n  }, []);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [todos, setTodos] = useState([]);\r\n\r\n  function handleEdit(currentTodo) {\r\n    fetch(`${URI}/todos`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(currentTodo),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => setTodos(res));\r\n  }\r\n\r\n  function handleAdd(todo) {\r\n    fetch(`${URI}/todos`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        userId: todo.userId,\r\n        title: todo.title,\r\n        completed: todo.completed,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => setTodos(res));\r\n  }\r\n\r\n  function handleDelete(id) {\r\n    fetch(`${URI}/todos/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => setTodos(res));\r\n  }\r\n\r\n  function handleDeleteCompletedTodos() {\r\n    fetch(`${URI}/todos/completed`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => setTodos(res));\r\n  }\r\n\r\n  const HomePage = () => {\r\n    return (\r\n      <>\r\n        {!isLoaded && !error && <Loading />}\r\n\r\n        {isLoaded && !error && todos !== [] && (\r\n          <List\r\n            todos={todos}\r\n            handleEdit={handleEdit}\r\n            handleAdd={handleAdd}\r\n            handleDelete={handleDelete}\r\n            handleDeleteCompletedTodos={handleDeleteCompletedTodos}\r\n          />\r\n        )}\r\n\r\n        <div className=\"logout-wrapper\">\r\n          <button onClick={() => deleteToken()}>Logout</button>\r\n        </div>\r\n\r\n        {error && error}\r\n      </>\r\n    );\r\n  };\r\n\r\n  if (!token) {\r\n    return <Login setToken={setToken} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/\" element={<HomePage />} />\r\n        </Routes>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}