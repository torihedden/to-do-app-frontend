(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],{10:function(t,e,n){},11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var c=n(1),i=n.n(c),o=n(5),l=n.n(o),a=(n(10),n(2)),s=(n(11),n(3)),d=n(0),r=function(t){var e=t.todos,n=t.handleEdit,i=t.handleAdd,o=t.handleDelete,l=Object(c.useState)(""),r=Object(a.a)(l,2),u=r[0],h=r[1],j=Object(c.useState)(!1),b=Object(a.a)(j,2),p=b[0],O=b[1],f=Object(c.useState)({}),m=Object(a.a)(f,2),g=m[0],x=m[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:["todo list (",e.length," items)"]}),e.map((function(t){return Object(d.jsxs)("div",{className:"todo-wrapper",children:[Object(d.jsxs)("label",{htmlFor:t.title,className:t.completed?"completed-task":"",children:[Object(d.jsx)("input",{type:"checkbox",checked:t.completed,onChange:function(){n(Object(s.a)(Object(s.a)({},t),{},{completed:!t.completed})),p&&O(!1)},id:t.title,name:t.title,value:t.title}),Object(d.jsx)("span",{className:"checkmark",children:t.completed}),Object(d.jsx)("span",{className:"title",children:t.title})]}),Object(d.jsxs)("div",{children:[p&&t._id===g._id&&Object(d.jsx)("input",{type:"text",onChange:function(e){x(Object(s.a)(Object(s.a)({},t),{},{title:e.target.value}))},id:t._id,name:t.title,value:g!=={}?g.title:t.title,readOnly:t.completed}),p&&t._id===g._id&&Object(d.jsx)("button",{className:"positive",onClick:function(){n(Object(s.a)(Object(s.a)({},g),{},{title:g.title.trim()})),O(!1)},children:"Submit change"}),Object(d.jsx)("button",{disabled:t.completed,onClick:function(){p?(x({}),O(!1)):(x(t),O(!0))},children:p&&t._id===g._id?"Close editor":"Edit task"}),Object(d.jsx)("button",{title:"Delete task",className:"negative",onClick:function(){return o(t._id)},children:"X"})]})]},t._id)})),Object(d.jsx)("label",{htmlFor:"new-todo",children:Object(d.jsx)("input",{type:"text",name:"todo",placeholder:"Describe your task here",id:"new-todo",value:u,onChange:function(t){return h(t.target.value)}})}),Object(d.jsx)("button",{className:"positive",onClick:function(){""!==u&&(i({title:u.trim()}),h(""))},disabled:""===u,children:"Add new task"})]})};var u=function(){Object(c.useEffect)((function(){fetch("http://localhost:5000/").then((function(t){return t.json()})).then((function(t){u(!0),p(t)})).catch((function(t){console.log("error",t),i("There was a problem retrieving your to-do list.")}))}),[]);var t=Object(c.useState)(null),e=Object(a.a)(t,2),n=e[0],i=e[1],o=Object(c.useState)(!1),l=Object(a.a)(o,2),s=l[0],u=l[1],h=Object(c.useState)([]),j=Object(a.a)(h,2),b=j[0],p=j[1];return Object(d.jsxs)("div",{className:"app",children:[!s&&!n&&Object(d.jsx)("div",{children:"Loading..."}),s&&!n&&b!==[]&&Object(d.jsx)(r,{todos:b,handleEdit:function(t){fetch("http://localhost:5000",{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(t){return p(t)}))},handleAdd:function(t){fetch("http://localhost:5000",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({userId:t.userId,title:t.title,completed:t.completed})}).then((function(t){return t.json()})).then((function(t){return p(t)}))},handleDelete:function(t){fetch("http://localhost:5000/",{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({id:t})}).then((function(t){return t.json()})).then((function(t){return p(t)}))}}),n&&n]})},h=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,14)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,l=e.getTTFB;n(t),c(t),i(t),o(t),l(t)}))};l.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(u,{})}),document.getElementById("root")),h()}},[[13,1,2]]]);
//# sourceMappingURL=main.69c11aef.chunk.js.map