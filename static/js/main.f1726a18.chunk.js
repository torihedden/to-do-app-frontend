(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),o=n(6),l=n.n(o),a=(n(11),n(2)),s=(n(12),n(3)),d=(n(13),n(0)),r=function(e){var t=e.currentTodo,n=e.setCurrentTodo,c=e.prompt,i=e.content,o=e.isEditable,l=e.cancelAction,a=e.confirmAction,r=e.confirmText;return Object(d.jsx)("div",{className:"modal",children:Object(d.jsxs)("div",{className:"modal-content",children:[Object(d.jsx)("div",{className:"modal-prompt",children:c}),!o&&Object(d.jsx)("div",{className:"modal-text",children:i}),o&&Object(d.jsx)("input",{className:"edit-task",type:"text",onChange:function(e){n(Object(s.a)(Object(s.a)({},t),{},{title:e.target.value}))},id:t._id,name:t.title,value:i}),Object(d.jsxs)("div",{className:"button-wrapper",children:[Object(d.jsx)("button",{onClick:l,children:"Cancel"}),Object(d.jsx)("button",{className:"negative",onClick:a,children:r})]})]})})},u=(n(15),function(){var e=(new Date).getHours();return e<12?"Good morning!":e>=12&&e<17?"Good afternoon!":"Good evening!"}),j=function(e){var t=e.listLength;return Object(d.jsx)(d.Fragment,{children:0===t?Object(d.jsxs)("div",{className:"summary",children:[Object(d.jsx)("div",{className:"summary-greeting",children:"Congratulations!"}),"You are done with your list."]}):Object(d.jsxs)("div",{className:"summary",children:[Object(d.jsx)("div",{className:"summary-greeting",children:u()}),Object(d.jsxs)("div",{className:"summary-item-details",children:["You have ",t," ",t>1?"items":"item"," left on your list."]})]})})},m=function(e){var t=e.handleAdd,n=e.newTodoTitle,c=e.setNewTodoTitle;return Object(d.jsxs)("div",{className:"new-task-wrapper",children:[Object(d.jsx)("label",{htmlFor:"new-todo",children:Object(d.jsx)("input",{type:"text",name:"todo",placeholder:"Describe your task",id:"new-todo",value:n,onChange:function(e){return c(e.target.value)}})}),Object(d.jsx)("button",{className:"positive",onClick:function(){""!==n&&(t({title:n.trim()}),c(""))},disabled:""===n,children:"Add"})]})},b=(n(16),function(e){var t=e.todos,n=e.handleEdit,i=e.handleAdd,o=e.handleDelete,l=Object(c.useState)(""),u=Object(a.a)(l,2),b=u[0],h=u[1],p=Object(c.useState)(!1),O=Object(a.a)(p,2),f=O[0],x=O[1],v=Object(c.useState)(!1),g=Object(a.a)(v,2),N=g[0],k=g[1],T=Object(c.useState)(!1),y=Object(a.a)(T,2),C=y[0],w=y[1],S=Object(c.useState)({}),D=Object(a.a)(S,2),A=D[0],E=D[1];return Object(d.jsxs)(d.Fragment,{children:[f&&Object(d.jsx)(r,{currentTodo:A,setCurrentTodo:E,isEditable:!0,prompt:"Edit task",content:A.title,cancelAction:function(){x(!1),E({})},confirmAction:function(){n(Object(s.a)(Object(s.a)({},A),{},{title:A.title.trim()})),x(!1),E({})},confirmText:"Save"}),N&&Object(d.jsx)(r,{prompt:'Delete "'.concat(A.title,'" task?'),content:"This cannot be undone.",cancelAction:function(){k(!1),E({})},confirmAction:function(){k(!1),o(A._id),E({})},confirmText:"Delete"}),C&&Object(d.jsx)(r,{prompt:"Delete ".concat(t.filter((function(e){return e.completed})).length," completed ").concat(1===t.filter((function(e){return e.completed})).length?"task":"tasks","?"),content:"This cannot be undone.",cancelAction:function(){w(!1)},confirmAction:function(){w(!1)},confirmText:"Delete ".concat(1===t.filter((function(e){return e.completed})).length?"task":"tasks")}),Object(d.jsx)(j,{listLength:t.filter((function(e){return!e.completed})).length}),Object(d.jsx)(m,{handleAdd:i,newTodoTitle:b,setNewTodoTitle:h}),Object(d.jsx)("div",{className:"uncompleted-todos",children:t.filter((function(e){return!e.completed})).map((function(e){return Object(d.jsxs)("div",{className:"todo-wrapper",children:[Object(d.jsxs)("label",{htmlFor:e.title,className:e.completed?"completed-task":"",children:[Object(d.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){n(Object(s.a)(Object(s.a)({},e),{},{completed:!e.completed})),f&&x(!1)},id:e.title,name:e.title,value:e.title}),Object(d.jsx)("span",{className:"checkmark",children:e.completed}),Object(d.jsx)("span",{className:"title",children:e.title})]}),Object(d.jsxs)("div",{className:"editing-wrapper",children:[Object(d.jsx)("button",{title:"Edit task",disabled:e.completed,onClick:function(){E(e),x(!0)},children:"Edit"}),Object(d.jsx)("button",{title:"Delete task",className:"positive delete-button",onClick:function(){E(e),k(A)},children:"X"})]})]},e._id)}))}),Object(d.jsx)("div",{className:"completed-todos",children:t.filter((function(e){return e.completed})).map((function(e){return Object(d.jsxs)("div",{className:"todo-wrapper",children:[Object(d.jsxs)("label",{htmlFor:e.title,className:e.completed?"completed-task":"",children:[Object(d.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){n(Object(s.a)(Object(s.a)({},e),{},{completed:!e.completed})),f&&x(!1)},id:e.title,name:e.title,value:e.title}),Object(d.jsx)("span",{className:"checkmark",children:e.completed}),!(f&&A._id===e._id)&&Object(d.jsx)("span",{className:"title",children:e.title})]}),Object(d.jsx)("button",{title:"Delete task",className:"positive delete-button",onClick:function(){E(e),k(A)},children:"X"})]},e._id)}))}),Object(d.jsx)("div",{className:"delete-all-wrapper",children:Object(d.jsx)("button",{className:"negative delete-all-button",title:"Delete all completed tasks",onClick:function(){w(!0)},children:"Delete all completed tasks"})})]})});n(17).config();var h="https://tori-tiny-todo.herokuapp.com/";var p=function(){Object(c.useEffect)((function(){fetch(h).then((function(e){return e.json()})).then((function(e){r(!0),p(e)})).catch((function(e){console.log("Error: ",e),i("There was a problem retrieving your to-do list.")}))}),[]);var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(!1),l=Object(a.a)(o,2),s=l[0],r=l[1],u=Object(c.useState)([]),j=Object(a.a)(u,2),m=j[0],p=j[1];return Object(d.jsxs)("div",{className:"app",children:[!s&&!n&&Object(d.jsxs)("div",{className:"loading",children:[Object(d.jsx)("div",{children:"Loading"}),Object(d.jsx)("div",{className:"loading-dots"})]}),s&&!n&&m!==[]&&Object(d.jsx)(b,{todos:m,handleEdit:function(e){fetch(h,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return p(e)}))},handleAdd:function(e){fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.userId,title:e.title,completed:e.completed})}).then((function(e){return e.json()})).then((function(e){return p(e)}))},handleDelete:function(e){fetch(h,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})}).then((function(e){return e.json()})).then((function(e){return p(e)}))}}),n&&n]})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,21)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,l=t.getTTFB;n(e),c(e),i(e),o(e),l(e)}))};l.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),O()}],[[20,1,2]]]);
//# sourceMappingURL=main.f1726a18.chunk.js.map