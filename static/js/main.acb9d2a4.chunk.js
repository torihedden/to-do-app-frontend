(this["webpackJsonpto-do-app"]=this["webpackJsonpto-do-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),o=n(11),i=n.n(o),a=(n(17),n(12)),s=n(2),l=(n(18),n(6)),r=n(0),d=function(){var e=Object(l.b)().loginWithRedirect;return Object(r.jsx)("button",{onClick:function(){return e()},children:"Log In"})},j=n(3),u=n(5),b=(n(26),function(e){var t=e.currentTodo,n=e.setCurrentTodo,c=e.prompt,o=e.content,i=e.isEditable,a=e.cancelAction,s=e.confirmAction,l=e.confirmText;return Object(r.jsx)("div",{className:"modal",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsx)("div",{className:"modal-prompt",children:c}),!i&&Object(r.jsx)("div",{className:"modal-text",children:o}),Object(r.jsxs)("form",{children:[i&&Object(r.jsx)("input",{className:"edit-task",type:"text",onChange:function(e){n(Object(u.a)(Object(u.a)({},t),{},{title:e.target.value}))},id:t._id,name:t.title,value:o,autoFocus:!!i}),Object(r.jsxs)("div",{className:"button-wrapper",children:[Object(r.jsx)("button",{onClick:a,autoFocus:!i,children:"Cancel"}),Object(r.jsx)("button",{className:"negative",onClick:s,children:l})]})]})]})})}),h=(n(27),function(){var e=(new Date).getHours();return e<12?"Good morning!":e>=12&&e<17?"Good afternoon!":"Good evening!"}),m=function(e){var t=e.completeListLength,n=e.incompleteListLength;return Object(r.jsx)(r.Fragment,{children:0!==t&&0===n?Object(r.jsxs)("div",{className:"summary",children:[Object(r.jsx)("div",{className:"summary-greeting",children:"Congratulations!"}),"You are done with your list."]}):Object(r.jsxs)("div",{className:"summary",children:[Object(r.jsx)("div",{className:"summary-greeting",children:h()}),Object(r.jsxs)("div",{className:"summary-item-details",children:[0===t&&0===n&&"You haven't added any tasks yet.",n>=1&&"You have ".concat(n," ").concat(n>1?"items":"item"," left on your list.")]})]})})},p=(n(28),function(e){var t=e.handleAdd,n=e.newTodoTitle,c=e.setNewTodoTitle;return Object(r.jsxs)("form",{className:"new-task-wrapper",children:[Object(r.jsx)("label",{htmlFor:"new-todo",children:Object(r.jsx)("input",{type:"text",name:"todo",placeholder:"New task",id:"new-todo",value:n,onChange:function(e){return c(e.target.value)}})}),Object(r.jsx)("button",{className:"positive add-todo",type:"submit",onClick:function(){""!==n&&(t({title:n.trim()}),c(""))},disabled:""===n,children:"Add"})]})}),O=(n(29),function(e){var t=e.todos,n=e.handleEdit,o=e.handleAdd,i=e.handleDelete,a=e.handleDeleteCompletedTodos,s=Object(c.useState)(""),l=Object(j.a)(s,2),d=l[0],h=l[1],O=Object(c.useState)(!1),f=Object(j.a)(O,2),x=f[0],g=f[1],v=Object(c.useState)(!1),k=Object(j.a)(v,2),N=k[0],T=k[1],y=Object(c.useState)(!1),w=Object(j.a)(y,2),C=w[0],D=w[1],E=Object(c.useState)({}),L=Object(j.a)(E,2),A=L[0],S=L[1],F=t.filter((function(e){return!e.completed})),J=t.filter((function(e){return e.completed}));return Object(r.jsxs)(r.Fragment,{children:[x&&Object(r.jsx)(b,{currentTodo:A,setCurrentTodo:S,isEditable:!0,prompt:"Edit task",content:A.title,cancelAction:function(){g(!1),S({})},confirmAction:function(){n(Object(u.a)(Object(u.a)({},A),{},{title:A.title.trim()})),g(!1),S({})},confirmText:"Save"}),N&&Object(r.jsx)(b,{prompt:'Delete "'.concat(A.title,'" task?'),content:"This cannot be undone.",cancelAction:function(){T(!1),S({})},confirmAction:function(){T(!1),i(A._id),S({})},confirmText:"Delete"}),C&&Object(r.jsx)(b,{prompt:"Delete ".concat(J.length," completed ").concat(1===J.length?"task":"tasks","?"),content:"This cannot be undone.",cancelAction:function(){D(!1)},confirmAction:function(){a(),D(!1)},confirmText:"Delete ".concat(1===J.length?"task":"tasks")}),Object(r.jsx)(m,{completeListLength:J.length,incompleteListLength:F.length}),Object(r.jsx)(p,{handleAdd:o,newTodoTitle:d,setNewTodoTitle:h}),Object(r.jsx)("div",{className:"uncompleted-todos",children:F.map((function(e){return Object(r.jsxs)("div",{className:"todo-wrapper",children:[Object(r.jsxs)("label",{htmlFor:e.title,className:e.completed?"completed-task":"",children:[Object(r.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){n(Object(u.a)(Object(u.a)({},e),{},{completed:!e.completed})),x&&g(!1)},id:e.title,name:e.title,value:e.title}),Object(r.jsx)("span",{className:"checkmark",children:e.completed}),Object(r.jsx)("span",{className:"title",children:e.title})]}),Object(r.jsxs)("div",{className:"editing-wrapper",children:[Object(r.jsx)("button",{title:"Edit task",disabled:e.completed,onClick:function(){S(e),g(!0)},children:"Edit"}),Object(r.jsx)("button",{title:"Delete task",className:"positive delete-button",onClick:function(){S(e),T(A)},children:"X"})]})]},e._id)}))}),Object(r.jsx)("div",{className:"completed-todos",children:J.map((function(e){return Object(r.jsxs)("div",{className:"todo-wrapper",children:[Object(r.jsxs)("label",{htmlFor:e.title,className:e.completed?"completed-task":"",children:[Object(r.jsx)("input",{type:"checkbox",checked:e.completed,onChange:function(){n(Object(u.a)(Object(u.a)({},e),{},{completed:!e.completed})),x&&g(!1)},id:e.title,name:e.title,value:e.title}),Object(r.jsx)("span",{className:"checkmark",children:e.completed}),!(x&&A._id===e._id)&&Object(r.jsx)("span",{className:"title",children:e.title})]}),Object(r.jsx)("button",{title:"Delete task",className:"positive delete-button",onClick:function(){S(e),T(A)},children:"X"})]},e._id)}))}),Object(r.jsx)("div",{className:"delete-all-wrapper",children:Object(r.jsx)("button",{className:"negative delete-all-button",title:"Delete all completed tasks",disabled:J.length<1,onClick:function(){D(!0)},children:"Delete all completed tasks"})})]})}),f=(n(30),function(e){return Object(r.jsxs)("div",{className:"loading",children:[Object(r.jsx)("div",{children:"Loading"}),Object(r.jsx)("div",{className:"loading-dots"})]})}),x=(n(31),function(){var e=Object(l.b)().logout,t=window.location.href.replace(/\/+$/,"");return Object(r.jsx)("div",{className:"logout-wrapper",children:Object(r.jsx)("button",{onClick:function(){return e({returnTo:"".concat(t,"/login")})},children:"Log Out"})})}),g=(n(32),function(e){var t=e.error;return Object(r.jsx)("div",{className:"error-message",children:t})});n(33).config();var v="https://tori-tiny-todo.herokuapp.com";function k(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}var N=Object(l.c)((function(){Object(c.useEffect)((function(){fetch("".concat(v,"/todos")).then((function(e){return e.json()})).then((function(e){l(!0),h(e.sort(k)),console.log(e)})).catch((function(e){console.log("Error: ",e),o("There was a problem retrieving your list.")}))}),[]);var e=Object(c.useState)(null),t=Object(j.a)(e,2),n=t[0],o=t[1],i=Object(c.useState)(!1),a=Object(j.a)(i,2),s=a[0],l=a[1],d=Object(c.useState)([]),u=Object(j.a)(d,2),b=u[0],h=u[1];return Object(r.jsxs)(r.Fragment,{children:[!s&&!n&&Object(r.jsx)(f,{}),s&&!n&&b!==[]&&Object(r.jsx)(O,{todos:b,handleEdit:function(e){fetch("".concat(v,"/todos"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return h(e)}))},handleAdd:function(e){fetch("".concat(v,"/todos"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.title,completed:e.completed})}).then((function(e){return e.json()})).then((function(e){return h(e)}))},handleDelete:function(e){fetch("".concat(v,"/todos/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return h(e)}))},handleDeleteCompletedTodos:function(){fetch("".concat(v,"/todos/completed"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return h(e)}))}}),Object(r.jsx)(g,{error:n}),Object(r.jsx)(x,{})]})})),T=(n(36),function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{children:"404: Page not found."}),Object(r.jsx)("div",{children:"Looks like that page doesn't exist."}),Object(r.jsxs)("div",{children:["Try ",Object(r.jsx)("a",{href:"/to-do-app-frontend",children:"going home"})," instead."]})]})});var y=function(){return Object(r.jsx)("div",{className:"app",children:Object(r.jsx)(a.a,{children:Object(r.jsxs)(s.c,{children:[Object(r.jsx)(s.a,{path:"/to-do-app-frontend/",element:Object(r.jsx)(N,{})}),Object(r.jsx)(s.a,{path:"/to-do-app-frontend/login",element:Object(r.jsx)(d,{})}),Object(r.jsx)(s.a,{path:"*",element:Object(r.jsx)(T,{})})]})})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),i(e),a(e)}))};i.a.render(Object(r.jsx)(l.a,{domain:"dev-cfelw9db.us.auth0.com",clientId:"DVg2JXKdD0cr9JZ9dTwRkRwXJ11ki9Z3",redirectUri:"".concat(window.location.origin,"/to-do-app-frontend"),children:Object(r.jsx)(y,{})}),document.getElementById("root")),w()}],[[37,1,2]]]);
//# sourceMappingURL=main.acb9d2a4.chunk.js.map